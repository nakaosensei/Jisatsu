USE Macrofitas;

DROP TABLE SINONIMO;
DROP TABLE PLANT;


CREATE TABLE PLANT(
	ID INTEGER NOT NULL AUTO_INCREMENT,
	NOME VARCHAR(50),
	AUTOR VARCHAR(50),
	FONTE VARCHAR(50),
	ESTADO VARCHAR(10),
	GRUPO_TAXONOMICO VARCHAR(100),
	FAMILIA VARCHAR(100),
	FORMA_VIDA VARCHAR(200),
	SUBSTRATO VARCHAR(100),
	ORIGEM VARCHAR(100),
	ENDEMISMO VARCHAR(100),
	OCORRENCIAS_CONFIRMADAS VARCHAR(400),
	OCORRENCIAS_POSSIVEIS VARCHAR(400),
	DOMINIOS_FITOGEOGRAFICOS VARCHAR(500),
	TIPO_VEGETACAO VARCHAR(500),
	PRIMARY KEY(ID)
);

CREATE TABLE SINONIMO(
	ID INTEGER NOT NULL AUTO_INCREMENT,
	NOME VARCHAR(50),
	AUTOR VARCHAR(50),
	FONTE VARCHAR(50),
	NOME_CORRETA VARCHAR(50),
	PRIMARY KEY(ID),
	FOREIGN KEY (NOME_CORRETA) REFERENCES PLANT(NOME)
);



SELECT FONTE,COUNT(*) FROM OCORRENCIA GROUP BY FONTE;
